<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é€šè¿‡ unpkg CDN ä½¿ç”¨ ESM åŒ…</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .demo-section {
            background: #f8f9fa;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            border-left: 4px solid #007acc;
        }
        .result {
            background: #e8f5e8;
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
        }
        .error {
            background: #ffeaea;
            color: #d63031;
        }
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 6px;
            overflow-x: auto;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
        }
        .url-list {
            background: #fff3cd;
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
        }
        .highlight {
            background: #ffeb3b;
            padding: 2px 4px;
            border-radius: 3px;
        }
        h3 {
            color: #2c3e50;
            margin-top: 25px;
        }
    </style>
</head>
<body>
    <h1>ğŸŒ é€šè¿‡ unpkg CDN ä½¿ç”¨ ajanuw-vite-build-esm</h1>

    <div class="demo-section">
        <h2>ğŸ“‹ unpkg URL æ ¼å¼è¯´æ˜</h2>
        <div class="url-list">
            <h3>ğŸ¯ ä¸»è¦å¯¼å…¥æ–¹å¼ï¼š</h3>
            <p><strong>ä¸»å…¥å£ï¼š</strong><br>
            <code>https://unpkg.com/ajanuw-vite-build-esm@1.0.0/dist/index.js</code></p>

            <p><strong>æŒ‰éœ€å¯¼å…¥ï¼š</strong><br>
            <code>https://unpkg.com/ajanuw-vite-build-esm@1.0.0/dist/add.js</code><br>
            <code>https://unpkg.com/ajanuw-vite-build-esm@1.0.0/dist/sub.js</code><br>
            <code>https://unpkg.com/ajanuw-vite-build-esm@1.0.0/dist/foo.js</code></p>

            <p><strong>æ€»æ˜¯ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ï¼ˆçœç•¥ç‰ˆæœ¬å·ï¼‰ï¼š</strong><br>
            <code>https://unpkg.com/ajanuw-vite-build-esm/dist/index.js</code></p>

            <p><strong>æŒ‡å®šç‰ˆæœ¬èŒƒå›´ï¼š</strong><br>
            <code>https://unpkg.com/ajanuw-vite-build-esm@^1.0.0/dist/index.js</code></p>
        </div>
    </div>

    <div class="demo-section">
        <h2>ğŸš€ æ–¹å¼1: ä»ä¸»å…¥å£å¯¼å…¥æ‰€æœ‰å‡½æ•°</h2>
        <div class="code-block">// ä» unpkg CDN å¯¼å…¥
import { add, sub, foo } from 'https://unpkg.com/ajanuw-vite-build-esm@1.0.0/dist/index.js';

console.log('add(5, 3):', add(5, 3));
console.log('sub(10, 4):', sub(10, 4));
console.log('foo(3, 4):', foo(3, 4));
        </div>
        <div id="main-unpkg-result" class="result">åŠ è½½ä¸­...</div>
    </div>

    <div class="demo-section">
        <h2>ğŸ¯ æ–¹å¼2: æŒ‰éœ€å¯¼å…¥å•ä¸ªæ¨¡å—</h2>
        <div class="code-block">// åªå¯¼å…¥éœ€è¦çš„å‡½æ•°ï¼Œå‡å°‘åŠ è½½é‡
import { add } from 'https://unpkg.com/ajanuw-vite-build-esm@1.0.0/dist/add.js';
import { sub } from 'https://unpkg.com/ajanuw-vite-build-esm@1.0.0/dist/sub.js';

console.log('add(100, 200):', add(100, 200));
console.log('sub(500, 300):', sub(500, 300));
        </div>
        <div id="individual-unpkg-result" class="result">åŠ è½½ä¸­...</div>
    </div>

    <div class="demo-section">
        <h2>âš¡ æ–¹å¼3: åŠ¨æ€å¯¼å…¥ï¼ˆæŒ‰éœ€åŠ è½½ï¼‰</h2>
        <div class="code-block">// åŠ¨æ€å¯¼å…¥ï¼Œé€‚åˆæ¡ä»¶åŠ è½½
const loadMathUtils = async () => {
    const { foo } = await import('https://unpkg.com/ajanuw-vite-build-esm@1.0.0/dist/foo.js');
    return foo;
};

const fooFunc = await loadMathUtils();
console.log('åŠ¨æ€å¯¼å…¥çš„ foo(6, 8):', fooFunc(6, 8));
        </div>
        <div id="dynamic-unpkg-result" class="result">åŠ è½½ä¸­...</div>
    </div>

    <div class="demo-section">
        <h2>ğŸ“¦ æ–¹å¼4: Import Mapsï¼ˆæ¨èç”¨äºç”Ÿäº§ï¼‰</h2>
        <div class="code-block">&lt;script type="importmap"&gt;
{
  "imports": {
    "math-utils": "https://unpkg.com/ajanuw-vite-build-esm@1.0.0/dist/index.js",
    "math-utils/add": "https://unpkg.com/ajanuw-vite-build-esm@1.0.0/dist/add.js",
    "math-utils/sub": "https://unpkg.com/ajanuw-vite-build-esm@1.0.0/dist/sub.js"
  }
}
&lt;/script&gt;

&lt;script type="module"&gt;
import { add, sub, foo } from 'math-utils';
import { add as addOnly } from 'math-utils/add';
&lt;/script&gt;
        </div>
        <div id="importmap-result" class="result">åŠ è½½ä¸­...</div>
    </div>

    <div class="demo-section">
        <h2>ğŸ’¡ unpkg ä½¿ç”¨æŠ€å·§</h2>
        <ul>
            <li><strong>ç‰ˆæœ¬æ§åˆ¶ï¼š</strong> ç”Ÿäº§ç¯å¢ƒå»ºè®®æŒ‡å®šå…·ä½“ç‰ˆæœ¬å·</li>
            <li><strong>ç¼“å­˜ä¼˜åŒ–ï¼š</strong> unpkg æä¾›å¼ºç¼“å­˜ï¼Œç›¸åŒ URL ä¼šè¢«æµè§ˆå™¨ç¼“å­˜</li>
            <li><strong>æ–‡ä»¶æµè§ˆï¼š</strong> è®¿é—® <code>https://unpkg.com/ajanuw-vite-build-esm@1.0.0/</code> å¯æµè§ˆåŒ…å†…å®¹</li>
            <li><strong>å‹ç¼©ç‰ˆæœ¬ï¼š</strong> æ·»åŠ  <code>?module</code> å‚æ•°å¯èƒ½è·å¾—ä¼˜åŒ–ç‰ˆæœ¬</li>
            <li><strong>å¤‡ç”¨ CDNï¼š</strong> è¿˜å¯ä»¥ä½¿ç”¨ jsDelivr: <code>https://cdn.jsdelivr.net/npm/ajanuw-vite-build-esm@1.0.0/dist/index.js</code></li>
        </ul>
    </div>

    <!-- Import Map å®šä¹‰ -->
    <script type="importmap">
    {
        "imports": {
            "math-utils": "https://unpkg.com/ajanuw-vite-build-esm@1.0.0/dist/index.js",
            "math-utils/add": "https://unpkg.com/ajanuw-vite-build-esm@1.0.0/dist/add.js",
            "math-utils/sub": "https://unpkg.com/ajanuw-vite-build-esm@1.0.0/dist/sub.js"
        }
    }
    </script>

    <!-- æ¼”ç¤ºè„šæœ¬ -->
    <script type="module">
        // æ³¨æ„ï¼šè¿™äº› URL åœ¨åŒ…å‘å¸ƒåˆ° npm ä¹‹å‰ä¸ä¼šå·¥ä½œ
        // å‘å¸ƒåè¯·å°†æ¼”ç¤ºä¸­çš„ç‰ˆæœ¬å·æ›¿æ¢ä¸ºå®é™…ç‰ˆæœ¬

        // æ¼”ç¤º1: ä¸»å…¥å£å¯¼å…¥
        try {
            // æ³¨æ„ï¼šå®é™…ä½¿ç”¨æ—¶éœ€è¦ç­‰åŒ…å‘å¸ƒåˆ° npm
            const module1 = await import('https://unpkg.com/ajanuw-vite-build-esm@1.0.0/dist/index.js');
            const { add, sub, foo } = module1;

            const results = [
                `âœ… æˆåŠŸä» unpkg å¯¼å…¥ä¸»å…¥å£`,
                `add(5, 3) = ${add(5, 3)}`,
                `sub(10, 4) = ${sub(10, 4)}`,
                `foo(3, 4) = ${foo(3, 4)} (3Â² + 4Â² = 25)`
            ];

            document.getElementById('main-unpkg-result').textContent = results.join('\n');
        } catch (error) {
            document.getElementById('main-unpkg-result').textContent =
                `âŒ åŠ è½½å¤±è´¥: ${error.message}\nğŸ’¡ æç¤º: è¯·å…ˆå‘å¸ƒåŒ…åˆ° npm`;
            document.getElementById('main-unpkg-result').classList.add('error');
        }

        // æ¼”ç¤º2: æŒ‰éœ€å¯¼å…¥
        try {
            const addModule = await import('https://unpkg.com/ajanuw-vite-build-esm@1.0.0/dist/add.js');
            const subModule = await import('https://unpkg.com/ajanuw-vite-build-esm@1.0.0/dist/sub.js');

            const results = [
                `âœ… æˆåŠŸæŒ‰éœ€å¯¼å…¥æ¨¡å—`,
                `add(100, 200) = ${addModule.add(100, 200)}`,
                `sub(500, 300) = ${subModule.sub(500, 300)}`
            ];

            document.getElementById('individual-unpkg-result').textContent = results.join('\n');
        } catch (error) {
            document.getElementById('individual-unpkg-result').textContent =
                `âŒ åŠ è½½å¤±è´¥: ${error.message}\nğŸ’¡ æç¤º: è¯·å…ˆå‘å¸ƒåŒ…åˆ° npm`;
            document.getElementById('individual-unpkg-result').classList.add('error');
        }

        // æ¼”ç¤º3: åŠ¨æ€å¯¼å…¥
        try {
            const loadFoo = async () => {
                const module = await import('https://unpkg.com/ajanuw-vite-build-esm@1.0.0/dist/foo.js');
                return module.foo;
            };

            const fooFunc = await loadFoo();
            const result = `âœ… åŠ¨æ€å¯¼å…¥æˆåŠŸ\nfoo(6, 8) = ${fooFunc(6, 8)} (6Â² + 8Â² = 100)`;

            document.getElementById('dynamic-unpkg-result').textContent = result;
        } catch (error) {
            document.getElementById('dynamic-unpkg-result').textContent =
                `âŒ åŠ¨æ€å¯¼å…¥å¤±è´¥: ${error.message}\nğŸ’¡ æç¤º: è¯·å…ˆå‘å¸ƒåŒ…åˆ° npm`;
            document.getElementById('dynamic-unpkg-result').classList.add('error');
        }

        // æ¼”ç¤º4: Import Maps
        try {
            // ä½¿ç”¨ Import Maps å®šä¹‰çš„åˆ«å
            const mathUtils = await import('math-utils');
            const addOnly = await import('math-utils/add');

            const results = [
                `âœ… Import Maps å¯¼å…¥æˆåŠŸ`,
                `ä½¿ç”¨åˆ«å 'math-utils': ${typeof mathUtils.add}`,
                `ä½¿ç”¨åˆ«å 'math-utils/add': ${typeof addOnly.add}`
            ];

            document.getElementById('importmap-result').textContent = results.join('\n');
        } catch (error) {
            document.getElementById('importmap-result').textContent =
                `âŒ Import Maps å¤±è´¥: ${error.message}\nğŸ’¡ æç¤º: è¯·å…ˆå‘å¸ƒåŒ…åˆ° npm`;
            document.getElementById('importmap-result').classList.add('error');
        }

        // æ§åˆ¶å°æ¼”ç¤º
        console.log('ğŸŒ unpkg CDN å¯¼å…¥æ¼”ç¤º');
        console.log('å‘å¸ƒåˆ° npm åï¼Œå¯ä»¥ç›´æ¥åœ¨æ§åˆ¶å°å°è¯•ï¼š');
        console.log(`const { add } = await import('https://unpkg.com/ajanuw-vite-build-esm@1.0.0/dist/add.js');`);
        console.log(`console.log(add(1, 2)); // 3`);
    </script>
</body>
</html>